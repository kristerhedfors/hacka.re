<!DOCTYPE html>
<html>
<head>
    <title>Quick Service Connector Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        button { padding: 8px 16px; margin: 5px; }
    </style>
</head>
<body>
    <h1>Service Connector Quick Test</h1>
    <div id="status" class="status info">Loading...</div>
    
    <button onclick="testGitHub()">Test GitHub</button>
    <button onclick="testGmail()">Test Gmail</button>
    <button onclick="testGDocs()">Test Google Docs</button>
    
    <div id="results"></div>

    <!-- Load required services -->
    <script src="js/utils/debug-service.js"></script>
    <script src="js/services/core-storage-service.js"></script>
    <script src="js/services/mcp-service-connectors.js"></script>

    <script>
        function updateStatus(message, type = 'info') {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
        }

        function addResult(message) {
            const resultsEl = document.getElementById('results');
            const div = document.createElement('div');
            div.className = 'status info';
            div.textContent = message;
            resultsEl.appendChild(div);
        }

        // Test service availability
        document.addEventListener('DOMContentLoaded', function() {
            try {
                if (window.MCPServiceConnectors) {
                    updateStatus('✅ Service connectors loaded successfully', 'success');
                    addResult('Available services: ' + window.MCPServiceConnectors.getAvailableServices().map(s => s.name).join(', '));
                } else {
                    updateStatus('❌ Service connectors not loaded', 'error');
                }
                
                if (window.CoreStorageService) {
                    addResult('✅ Storage service available');
                } else {
                    addResult('❌ Storage service not available');
                }
            } catch (error) {
                updateStatus('❌ Error: ' + error.message, 'error');
            }
        });

        async function testGitHub() {
            try {
                addResult('Testing GitHub connection...');
                const result = await window.MCPServiceConnectors.connectService('github');
                addResult(result ? '✅ GitHub test successful' : '❌ GitHub test failed');
            } catch (error) {
                addResult('❌ GitHub error: ' + error.message);
            }
        }

        async function testGmail() {
            try {
                addResult('Testing Gmail connection...');
                const result = await window.MCPServiceConnectors.connectService('gmail');
                addResult(result ? '✅ Gmail test successful' : '❌ Gmail test failed');
            } catch (error) {
                addResult('❌ Gmail error: ' + error.message);
            }
        }

        async function testGDocs() {
            try {
                addResult('Testing Google Docs connection...');
                const result = await window.MCPServiceConnectors.connectService('gdocs');
                addResult(result ? '✅ Google Docs test successful' : '❌ Google Docs test failed');
            } catch (error) {
                addResult('❌ Google Docs error: ' + error.message);
            }
        }
    </script>
</body>
</html>