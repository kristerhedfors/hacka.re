<!DOCTYPE html>
<html lang="en" class="theme-modern">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hacka.re - Tool Calling Test</title>
    <meta name="description" content="Test page for OpenAI-compatible API tool calling">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/copy-code.css">
    <!-- Font Awesome for icons (local) -->
    <link rel="stylesheet" href="lib/font-awesome/all.min.css">
    <!-- Markdown parser (local) -->
    <script src="lib/marked/marked.min.js"></script>
    <script src="lib/dompurify/purify.min.js"></script>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 8px;
            background-color: var(--card-bg);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .test-section h2 {
            margin-top: 0;
            color: var(--accent-color);
        }
        
        .test-section p {
            margin-bottom: 15px;
        }
        
        .code-block {
            background-color: var(--code-bg);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: monospace;
            margin-bottom: 15px;
        }
        
        .button-container {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .result-container {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--system-msg-bg);
            border-left: 4px solid var(--accent-color);
            border-radius: 5px;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>hacka.re Tool Calling Test</h1>
            <p>This page demonstrates how to use the experimental tool calling feature in hacka.re.</p>
        </header>
        
        <div class="test-section">
            <h2>Math Addition Tool</h2>
            <p>This example demonstrates the <code>math_addition_tool</code> which adds two numbers together.</p>
            
            <div class="code-block">
                <pre>// Tool definition
{
  "type": "function",
  "function": {
    "name": "math_addition_tool",
    "description": "Add two numbers together",
    "parameters": {
      "type": "object",
      "properties": {
        "a": {
          "type": "number",
          "description": "The first number"
        },
        "b": {
          "type": "number",
          "description": "The second number"
        }
      },
      "required": ["a", "b"]
    }
  }
}</pre>
            </div>
            
            <p>To test this tool, make sure you have enabled tool calling in the settings and then ask the AI to add two numbers together.</p>
            
            <div class="button-container">
                <a href="index.html" class="btn primary-btn">Go to Chat</a>
            </div>
        </div>
        
        <div class="test-section">
            <h2>How to Create Your Own Tool</h2>
            <p>To create your own tool, you need to:</p>
            <ol>
                <li>Define the tool's schema following the OpenAI function calling format</li>
                <li>Implement the tool's handler function</li>
                <li>Register the tool with the API Tools Service</li>
            </ol>
            
            <div class="code-block">
                <pre>// Example of creating and registering a custom tool
ApiToolsService.registerTool(
    "my_custom_tool",
    {
        type: "function",
        function: {
            name: "my_custom_tool",
            description: "Description of what your tool does",
            parameters: {
                type: "object",
                properties: {
                    // Define your parameters here
                    param1: {
                        type: "string",
                        description: "Description of parameter 1"
                    },
                    param2: {
                        type: "number",
                        description: "Description of parameter 2"
                    }
                },
                required: ["param1", "param2"]
            }
        }
    },
    async function(args) {
        // Implement your tool's functionality here
        const { param1, param2 } = args;
        
        // Process the parameters and return a result
        return {
            result: `Processed ${param1} and ${param2}`
        };
    }
);</pre>
            </div>
            
            <p>You can add this code to a JavaScript file and include it in your project, or you can add it directly to the console for testing purposes.</p>
        </div>
        
        <div class="test-section">
            <h2>Example Prompts</h2>
            <p>Here are some example prompts you can use to test the math_addition_tool:</p>
            <ul>
                <li>"Can you add 5 and 7 together using the math_addition_tool?"</li>
                <li>"Please use the math_addition_tool to calculate 123 + 456."</li>
                <li>"What's 42 + 58? Use the math tool to calculate it."</li>
            </ul>
        </div>
        
        <footer>
            <p><a href="index.html">Back to hacka.re</a></p>
        </footer>
    </div>
</body>
</html>
