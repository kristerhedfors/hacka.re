Metadata-Version: 2.4
Name: auth_examples
Version: 0.1.0
Summary: API authentication examples with cryptographic signatures using PyNaCl
Home-page: https://github.com/kristerhedfors/hacka.re
Author: hacka.re project
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Security :: Cryptography
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pynacl>=1.5.0
Requires-Dist: starlette>=0.27.0
Requires-Dist: uvicorn>=0.20.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: requests>=2.28.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Provides-Extra: examples
Requires-Dist: flask>=2.3.0; extra == "examples"
Requires-Dist: gunicorn>=20.1.0; extra == "examples"
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Authentication Examples

A collection of API authentication methods extracted from the openai_proxy project, focused specifically on demonstrating different authentication patterns for securing API endpoints.

## 🔐 Authentication Methods

### Overview

This project demonstrates secure API authentication patterns using cryptographic signatures:

```
auth_examples/
├── Overview - Authentication patterns and security models
└── Python/
    ├── HMAC Blake2b Authentication (minimal shared secret)
    ├── Ed25519 Digital Signatures (public key cryptography)
    ├── Comprehensive Request Signing (full request validation)
    └── Key Generation Utilities (cryptographic key management)
```

## 🚀 Quick Start

```bash
# Use shared virtual environment from hacka.re project
source ../_venv/bin/activate

# Install auth_examples package
pip install -e .

# Generate authentication keys
python -c "from src.crypto_auth import generate_ed25519_keypair; print(generate_ed25519_keypair())"

# Start authenticated server
python -m src.examples.hmac_server

# Test authentication
python -m src.examples.test_auth
```

## 🛡️ Security Features

- **HMAC Blake2b**: Shared secret authentication with timestamp validation
- **Ed25519 Signatures**: Public key cryptography for stronger security  
- **Replay Protection**: Timestamp-based request freshness validation
- **Comprehensive Signing**: Full request parameter validation (method, path, headers, body)
- **Key Management**: Secure key generation and storage patterns

## 📋 Authentication Methods

| Method | Security Level | Use Case | Key Management |
|--------|---------------|----------|----------------|
| **HMAC Blake2b** | High | Shared secret systems | Single shared secret |
| **Ed25519** | Highest | Public key infrastructure | Key pair per client |
| **Comprehensive** | Highest | Full request validation | Shared secret + full params |

## 🔑 Key Features

- **Real Cryptography**: Uses PyNaCl (libsodium) for production-grade crypto
- **Timestamp Validation**: Prevents replay attacks with configurable time windows
- **Multiple Patterns**: From simple shared secrets to full request signing
- **Educational Focus**: Clear, commented examples for learning authentication patterns
- **No Placeholders**: Real working examples with proper key handling

## 🧪 Examples

### HMAC Authentication
```python
from src.crypto_auth import sign_request, verify_signature

# Sign a request
timestamp, signature = sign_request(request_body, shared_secret)

# Verify signature
is_valid = verify_signature(body, timestamp, signature, shared_secret)
```

### Ed25519 Digital Signatures
```python
from src.crypto_auth import generate_ed25519_keypair, sign_ed25519_request

# Generate keypair
private_key, public_key = generate_ed25519_keypair()

# Sign request
timestamp, signature = sign_ed25519_request(request_body, private_key)
```

## 🔧 Configuration

```bash
# Use shared hacka.re virtual environment
source ../_venv/bin/activate

# Environment variables for authentication
export SHARED_SECRET="your_32_byte_secret_here"
export CLIENT_PUBLIC_KEY="your_ed25519_public_key_hex"
export MAX_REQUEST_AGE=300  # 5 minutes
```

## 🎯 Learning Objectives

- Understanding cryptographic authentication patterns
- Implementing secure API authentication
- Preventing common security vulnerabilities (replay attacks, signature forgery)
- Managing cryptographic keys securely
- Building production-ready authentication systems

---

**Educational Examples** - Focus on authentication patterns and cryptographic security for API endpoints.
